微信小程序

异常处理的流程:
        抛出 HTTP 异常
throw new \think\exception\HttpException(404, '异常消息', null, [参数]);

999 未知错误
1 开头为通用错误
2 商品类错误
3 主题类错误
4 Banner 类错误
5 类目类错误
6 用户类错误
7 订单类错误


Handle 异常处理类 render方法


先有想法，在寻找“工具”，而不是反过来

依赖或者包管理
第三方主键：composer .npm .pip


路由两种编写方法：
1.首先引入route类

PATH_INFO  

混合模式
// 是否强制使用路由
    'url_route_must'         => false,
   一般使用api ，尽量开启


参数校验层


Api 版本的闭合原则

1.在路由中将需要动态的

关联模型
有外键在表中使用belongTO 
没有外键但是关联

异常的分类包括： 用户行为异常 不需要记录日志，但需要向客户返回具体的错误信息。
                服务端自身异常 需要记录日志，但是不向客户端返回错误信息。

记录日志： 全局异常处理 关闭TP5日志
修改日志的路径，LOG_PATH 
// +----------------------------------------------------------------------
    // | 日志设置
    // +----------------------------------------------------------------------

   <!--  'log'                    => [
       // 日志记录方式，内置 file socket 支持扩展
       'type'  => 'test', //File 改为test
       // 日志保存目录
       'path'  => LOG_PATH,
       // 日志记录级别
       'level' => [],
   ], -->
==========================================================================================
接口粒度与接口分层
        
<!--         Api的分层目的：
Api的权限控制：

架构体系

    获取令牌 -> 客户端 ->账号/密码getToken<--  账号/密码/Token/Auth-->


微信架构体系

==========================================================================================